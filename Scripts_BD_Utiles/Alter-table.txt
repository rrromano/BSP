USE COADINTAR
GO


BEGIN TRY
  BEGIN TRAN

  SET NOCOUNT ON

  PRINT 'INICIO DE ACTUALIZACIÓN'

  UPDATE GYF_CAMPOS 
  SET LONGITUD = 16
  WHERE TABLA = 'ADARCHIVOS_EXT' AND CAMPO IN ('login_modif','login_conf')


  ALTER TABLE ADARCHIVOS_EXT 
    ALTER COLUMN login_modif VARCHAR(16) NULL 
    
  ALTER TABLE ADARCHIVOS_EXT 
    ALTER COLUMN login_conf  VARCHAR(16) NULL   

  PRINT 'FIN DE ACTUALIZACIÓN OK'
  COMMIT

END TRY

BEGIN CATCH
  PRINT 'ACTUALIZACION CANCELADA POR ERROR'
  PRINT ''
  SELECT ERROR_NUMBER() 'ERROR_NUMBER' , ERROR_MESSAGE()'ERROR_MESSAGE', ERROR_LINE()'ERROR_LINE'
  ROLLBACK
END CATCH
